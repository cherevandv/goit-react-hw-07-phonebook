(this["webpackJsonpgoit-react-hw-06-phonebook"]=this["webpackJsonpgoit-react-hw-06-phonebook"]||[]).push([[0],{28:function(t,e,n){t.exports={container:"App_container__1L2t5"}},43:function(t,e,n){},63:function(t,e,n){},64:function(t,e,n){},65:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n(0),a=n.n(r),o=n(10),u=n.n(o),b=n(6),i=(n(42),n(43),n(28)),s=n.n(i),j=n(17),l=n.n(j),f=n(29),O=n(8),d=n.n(O);function h(){return(h=Object(f.a)(l.a.mark((function t(){var e,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get("/contacts");case 2:return e=t.sent,n=e.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}d.a.defaults.baseURL="http://localhost:4040";var p=n(3),m=Object(p.b)("phonebook/filter"),x=Object(p.b)("contacts/addContactRequest"),v=Object(p.b)("contacts/addContactSuccess"),C=Object(p.b)("contacts/addContactError"),y=Object(p.b)("contacts/deleteContactRequest"),_=Object(p.b)("contacts/deleteContactSuccess"),k=Object(p.b)("contacts/deleteContactError"),w=Object(p.b)("contacts/fetchContactsRequest"),g=Object(p.b)("contacts/fetchContactsSuccess"),S=Object(p.b)("contacts/fetchContactsError"),E=function(t,e){return function(n){n(x()),function(t,e){var n={name:t,number:e};return d.a.post("/contacts",n)}(t,e).then((function(t){var e=t.data;return n(v(e))})).catch((function(t){return n(C(t))}))}},L=function(t){return function(e){e(y()),function(t){return d.a.delete("/contacts/".concat(t))}(t).then((function(){return e(_(t))})).catch((function(t){return e(k(t))}))}},N=function(){return function(t){t(w()),function(){return h.apply(this,arguments)}().then((function(e){return t(g(e))})).catch((function(e){return t(S(e))}))}},F=n(18),R=n(11),q=function(t){return t.contacts.items},A=function(t){return t.contacts.filter},D=Object(R.a)([q,A],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),J=n(9),P=n.n(J);function T(){var t=Object(r.useState)(""),e=Object(F.a)(t,2),n=e[0],a=e[1],o=Object(r.useState)(""),u=Object(F.a)(o,2),i=u[0],s=u[1],j=Object(b.c)(q),l=Object(b.b)(),f=function(t){var e=t.currentTarget,n=e.name,c=e.value;switch(n){case"name":a(c);break;case"number":s(c);break;default:return}},O=function(t){return j.find((function(e){return e.name.toLowerCase()===t.toLowerCase()}))},d=function(){a(""),s("")};return Object(c.jsxs)("form",{className:P.a.form,onSubmit:function(t){return t.preventDefault(),n&&i?O(n)?(d(),alert("".concat(n," is already in contacts."))):(l(E(n,i)),void d()):alert("Some field is empty.")},children:[Object(c.jsxs)("label",{className:P.a.label,htmlFor:"",children:["Name",Object(c.jsx)("input",{type:"text",name:"name",placeholder:"Enter name..",value:n,onChange:f})]}),Object(c.jsxs)("label",{className:P.a.label,htmlFor:"",children:["Number",Object(c.jsx)("input",{type:"tel",name:"number",placeholder:"Enter phone number..",value:i,onChange:f})]}),Object(c.jsx)("button",{className:P.a.button,type:"submit",children:"Add contact"})]})}n(63);function U(){var t=Object(b.c)(A),e=Object(b.b)();return Object(c.jsxs)("label",{children:["Find contacts by name",Object(c.jsx)("input",{type:"text",placeholder:"...",value:t,onChange:function(t){return e(m(t.currentTarget.value))}})]})}n(64);function z(){var t=Object(b.c)(D),e=Object(b.b)();return Object(c.jsx)("ul",{children:t.map((function(t){var n=t.id,r=t.name,a=t.number;return Object(c.jsxs)("li",{children:[Object(c.jsxs)("p",{children:[r,": ",a]}),Object(c.jsx)("button",{type:"button",onClick:function(){return e(L(n))},children:"Delete"})]},n)}))})}var B,H,I,M=function(){var t=Object(b.b)();return Object(r.useEffect)((function(){t(N())}),[]),Object(c.jsxs)("div",{className:s.a.container,children:[Object(c.jsx)("h1",{children:"Phonebook"}),Object(c.jsx)(T,{}),Object(c.jsx)("h2",{children:"Contacts"}),Object(c.jsx)(U,{}),Object(c.jsx)(z,{})]})},X=n(2),G=n(30),K=n(5),Q=Object(p.c)([],(B={},Object(X.a)(B,g,(function(t,e){return e.payload})),Object(X.a)(B,v,(function(t,e){var n=e.payload;return[].concat(Object(G.a)(t),[n])})),Object(X.a)(B,_,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),B)),V=Object(p.c)("",Object(X.a)({},m,(function(t,e){return e.payload}))),W=Object(p.c)(!1,(H={},Object(X.a)(H,x,(function(){return!0})),Object(X.a)(H,v,(function(){return!1})),Object(X.a)(H,C,(function(){return!1})),Object(X.a)(H,y,(function(){return!0})),Object(X.a)(H,_,(function(){return!1})),Object(X.a)(H,k,(function(){return!1})),Object(X.a)(H,w,(function(){return!0})),Object(X.a)(H,g,(function(){return!1})),Object(X.a)(H,S,(function(){return!1})),H)),Y=Object(p.c)(null,(I={},Object(X.a)(I,C,(function(t,e){return e.payload})),Object(X.a)(I,v,(function(){return null})),Object(X.a)(I,k,(function(t,e){return e.payload})),Object(X.a)(I,_,(function(){return null})),Object(X.a)(I,S,(function(t,e){return e.payload})),Object(X.a)(I,g,(function(){return null})),I)),Z=Object(K.c)({items:Q,filter:V,isLoading:W,error:Y}),$=Object(p.a)({reducer:{contacts:Z}});u.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(b.a,{store:$,children:Object(c.jsx)(M,{})})}),document.getElementById("root"))},9:function(t,e,n){t.exports={form:"ContactForm_form__3U7ko",label:"ContactForm_label__OsHXa",button:"ContactForm_button__3z5Pb"}}},[[65,1,2]]]);
//# sourceMappingURL=main.9cee1dd1.chunk.js.map