(this["webpackJsonpgoit-react-hw-06-phonebook"]=this["webpackJsonpgoit-react-hw-06-phonebook"]||[]).push([[0],{12:function(t,e,n){t.exports={form:"ContactForm_form__3U7ko",label:"ContactForm_label__OsHXa",button:"ContactForm_button__3z5Pb"}},30:function(t,e,n){t.exports={container:"App_container__1L2t5"}},44:function(t,e,n){},64:function(t,e,n){},84:function(t,e,n){},85:function(t,e,n){"use strict";n.r(e);var c={};n.r(c),n.d(c,"filter",(function(){return j})),n.d(c,"addContactRequest",(function(){return O})),n.d(c,"addContactSuccess",(function(){return h})),n.d(c,"addContactError",(function(){return p})),n.d(c,"deleteContactRequest",(function(){return C})),n.d(c,"deleteContactSuccess",(function(){return m})),n.d(c,"deleteContactError",(function(){return v})),n.d(c,"fetchContactsRequest",(function(){return x})),n.d(c,"fetchContactsSuccess",(function(){return S})),n.d(c,"fetchContactsError",(function(){return y}));var r={};n.r(r),n.d(r,"addContact",(function(){return N})),n.d(r,"deleteContact",(function(){return A})),n.d(r,"fetchAllContacts",(function(){return T}));var a=n(1),o=n(0),u=n.n(o),s=n(13),i=n.n(s),b=n(5),l=(n(43),n(44),n(30)),f=n.n(l),d=n(4),j=Object(d.b)("phonebook/filter"),O=Object(d.b)("contacts/addContactRequest"),h=Object(d.b)("contacts/addContactSuccess"),p=Object(d.b)("contacts/addContactError"),C=Object(d.b)("contacts/deleteContactRequest"),m=Object(d.b)("contacts/deleteContactSuccess"),v=Object(d.b)("contacts/deleteContactError"),x=Object(d.b)("contacts/fetchContactsRequest"),S=Object(d.b)("contacts/fetchContactsSuccess"),y=Object(d.b)("contacts/fetchContactsError"),E=n(8),w=n.n(E),k=n(9),g=n(11),R=n.n(g);function q(){return _.apply(this,arguments)}function _(){return(_=Object(k.a)(w.a.mark((function t(){var e,n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.a.get("/contacts");case 2:return e=t.sent,n=e.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function L(t){return R.a.delete("/contacts/".concat(t))}function F(t,e){var n={name:t,number:e};return R.a.post("/contacts",n)}R.a.defaults.baseURL="http://localhost:4040";var N=function(t){var e=t.name,n=t.number;return function(){var t=Object(k.a)(w.a.mark((function t(r){var a,o;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(c.addContactRequest()),t.prev=1,t.next=4,F(e,n);case 4:a=t.sent,o=a.data,r(c.addContactSuccess(o)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),r(c.addContactError(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},A=function(t){return function(){var e=Object(k.a)(w.a.mark((function e(n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(c.deleteContactRequest()),e.prev=1,e.next=4,L(t);case 4:n(c.deleteContactSuccess(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(c.deleteContactError(e.t0));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},T=function(){return function(){var t=Object(k.a)(w.a.mark((function t(e){var n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(c.fetchContactsRequest()),t.prev=1,t.next=4,q();case 4:n=t.sent,e(c.fetchContactsSuccess(n)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(c.fetchContactsError(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},D=n(20),J=n(14),P=function(t){return t.contacts.items},U=function(t){return t.contacts.filter},z=Object(J.a)([P,U],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),B=function(t){return t.contacts.isLoading},H=n(12),I=n.n(H);function M(){var t=Object(o.useState)(""),e=Object(D.a)(t,2),n=e[0],c=e[1],u=Object(o.useState)(""),s=Object(D.a)(u,2),i=s[0],l=s[1],f=Object(b.c)(P),d=Object(b.b)(),j=function(t){var e=t.currentTarget,n=e.name,r=e.value;switch(n){case"name":c(r);break;case"number":l(r);break;default:return}},O=function(t){return f.find((function(e){return e.name.toLowerCase()===t.toLowerCase()}))},h=function(){c(""),l("")};return Object(a.jsxs)("form",{className:I.a.form,onSubmit:function(t){return t.preventDefault(),n&&i?O(n)?(h(),alert("".concat(n," is already in contacts."))):(d(r.addContact({name:n,number:i})),void h()):alert("Some field is empty.")},children:[Object(a.jsxs)("label",{className:I.a.label,htmlFor:"",children:["Name",Object(a.jsx)("input",{type:"text",name:"name",placeholder:"Enter name..",value:n,onChange:j})]}),Object(a.jsxs)("label",{className:I.a.label,htmlFor:"",children:["Number",Object(a.jsx)("input",{type:"tel",name:"number",placeholder:"Enter phone number..",value:i,onChange:j})]}),Object(a.jsx)("button",{className:I.a.button,type:"submit",children:"Add contact"})]})}n(64);function X(){var t=Object(b.c)(U),e=Object(b.b)();return Object(a.jsxs)("label",{children:["Find contacts by name",Object(a.jsx)("input",{type:"text",placeholder:"...",value:t,onChange:function(t){return e(c.filter(t.currentTarget.value))}})]})}var G=n(31),K=n.n(G);n(84);function Q(){var t=Object(b.c)(z),e=Object(b.c)(B),n=Object(b.b)();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("ul",{children:t.map((function(t){var e=t.id,c=t.name,o=t.number;return Object(a.jsxs)("li",{children:[Object(a.jsxs)("p",{children:[c,": ",o]}),Object(a.jsx)("button",{type:"button",onClick:function(){return n(r.deleteContact(e))},children:"Delete"})]},e)}))}),e&&Object(a.jsx)(K.a,{type:"TailSpin",color:"#6ebfd8",height:30,width:30})]})}var V,W,Y,Z=function(){var t=Object(b.b)();return Object(o.useEffect)((function(){t(r.fetchAllContacts())}),[]),Object(a.jsxs)("div",{className:f.a.container,children:[Object(a.jsx)("h1",{children:"Phonebook"}),Object(a.jsx)(M,{}),Object(a.jsx)("h2",{children:"Contacts"}),Object(a.jsx)(X,{}),Object(a.jsx)(Q,{})]})},$=n(2),tt=n(32),et=n(7),nt=Object(d.c)([],(V={},Object($.a)(V,c.fetchContactsSuccess,(function(t,e){return e.payload})),Object($.a)(V,c.addContactSuccess,(function(t,e){var n=e.payload;return[].concat(Object(tt.a)(t),[n])})),Object($.a)(V,c.deleteContactSuccess,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),V)),ct=Object(d.c)("",Object($.a)({},c.filter,(function(t,e){return e.payload}))),rt=Object(d.c)(!1,(W={},Object($.a)(W,c.addContactRequest,(function(){return!0})),Object($.a)(W,c.addContactSuccess,(function(){return!1})),Object($.a)(W,c.addContactError,(function(){return!1})),Object($.a)(W,c.deleteContactRequest,(function(){return!0})),Object($.a)(W,c.deleteContactSuccess,(function(){return!1})),Object($.a)(W,c.deleteContactError,(function(){return!1})),Object($.a)(W,c.fetchContactsRequest,(function(){return!0})),Object($.a)(W,c.fetchContactsSuccess,(function(){return!1})),Object($.a)(W,c.fetchContactsError,(function(){return!1})),W)),at=Object(d.c)(null,(Y={},Object($.a)(Y,c.addContactError,(function(t,e){return e.payload})),Object($.a)(Y,c.addContactSuccess,(function(){return null})),Object($.a)(Y,c.deleteContactError,(function(t,e){return e.payload})),Object($.a)(Y,c.deleteContactSuccess,(function(){return null})),Object($.a)(Y,c.fetchContactsError,(function(t,e){return e.payload})),Object($.a)(Y,c.fetchContactsSuccess,(function(){return null})),Y)),ot=Object(et.c)({items:nt,filter:ct,isLoading:rt,error:at}),ut=Object(d.a)({reducer:{contacts:ot}});i.a.render(Object(a.jsx)(u.a.StrictMode,{children:Object(a.jsx)(b.a,{store:ut,children:Object(a.jsx)(Z,{})})}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.fc5bd220.chunk.js.map